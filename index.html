<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1, user-scalable=no"
    />
    <title>Online Omnichord (Safari-first)</title>
    <link rel="stylesheet" href="./globals.css" />
  </head>
  <body>
    <div class="omni-shell">
      <header class="hud">
        <div class="hud-title">
          <h1>Online Omnichord</h1>
          <p>OM-108 overlay (Safari-first)</p>
          <a class="hud-link" href="./songs.html">Songs</a>
        </div>
        <div class="hud-controls">
          <button id="enable-audio">Enable Audio</button>
          <button id="stop-all" disabled>Stop All</button>
          <label class="toggle">
            <input id="memory-toggle" type="checkbox" />
            Memory Hold
          </label>
          <label class="toggle">
            <input id="debug-toggle" type="checkbox" checked />
            Debug Overlay
          </label>
        </div>
      </header>

      <section class="song-guide" id="song-guide" hidden>
        <div class="song-guide__title" id="song-title"></div>
        <div class="song-guide__step" id="song-step"></div>
        <div class="song-guide__bar">
          <div class="song-guide__bar-fill" id="song-progress-bar"></div>
        </div>
      </section>

      <main class="omni-stage">
        <div id="stage" class="stage">
          <img
            id="omniImg"
            class="stage__img"
            src="assets/omnichord.png"
            alt="OM-108"
          />
          <div id="overlayRoot" class="stage__overlay"></div>
        </div>
      </main>

      <footer class="status">
        <div class="dot" id="audio-dot"></div>
        <span id="audio-status">Audio locked (tap Enable Audio)</span>
        <span id="control-status">Waiting for overlay...</span>
      </footer>
    </div>

    <script type="module" src="./src/app.js"></script>
  </body>
</html>
